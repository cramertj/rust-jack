<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `JackHandler` trait in crate `jack`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, JackHandler">

    <title>jack::JackHandler - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>jack</a></p><script>window.sidebarCurrent = {name: 'JackHandler', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content trait">
<h1 class='fqn'><span class='in-band'>Trait <a href='index.html'>jack</a>::<wbr><a class='trait' href=''>JackHandler</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-14' class='srclink' href='../src/jack/src/callbacks.rs.html#14-135' title='goto source code'>[src]</a></span></h1>
<pre class='rust trait'>pub trait JackHandler {
    fn <a href='#method.thread_init' class='fnname'>thread_init</a>(&amp;mut self) { ... }
    fn <a href='#method.shutdown' class='fnname'>shutdown</a>(&amp;mut self, _status: <a class='struct' href='../jack/struct.ClientStatus.html' title='jack::ClientStatus'>ClientStatus</a>, _reason: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) { ... }
    fn <a href='#method.process' class='fnname'>process</a>(&amp;mut self, _n_frames: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.freewheel' class='fnname'>freewheel</a>(&amp;mut self, _is_freewheel_enabled: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) { ... }
    fn <a href='#method.buffer_size' class='fnname'>buffer_size</a>(&amp;mut self, _size: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.sample_rate' class='fnname'>sample_rate</a>(&amp;mut self, _srate: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.client_registration' class='fnname'>client_registration</a>(&amp;mut self, _name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, _is_registered: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) { ... }
    fn <a href='#method.port_registration' class='fnname'>port_registration</a>(&amp;mut self, _port_id: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _is_registered: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) { ... }
    fn <a href='#method.port_rename' class='fnname'>port_rename</a>(&amp;mut self, _port_id: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _old_name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, _new_name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.ports_connected' class='fnname'>ports_connected</a>(&amp;mut self, _port_id_a: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _port_id_b: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _are_connected: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) { ... }
    fn <a href='#method.graph_reorder' class='fnname'>graph_reorder</a>(&amp;mut self) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.xrun' class='fnname'>xrun</a>(&amp;mut self) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a> { ... }
    fn <a href='#method.latency' class='fnname'>latency</a>(&amp;mut self, _mode: <a class='enum' href='../jack/enum.LatencyType.html' title='jack::LatencyType'>LatencyType</a>) { ... }
}</pre><div class='docblock'><p>Specifies callbacks for Jack.</p>

<p>All callbacks happen on the same thread (not concurrently), unless otherwise
stated.</p>

<h1 id='todo' class='section-header'><a href='#todo'>TODO</a></h1>
<ul>
<li>convert C enum return values to Rust enums.</li>
</ul>
</div>
            <h2 id='provided-methods'>Provided Methods</h2>
            <div class='methods'>
        <h3 id='method.thread_init' class='method stab '><code>fn <a href='#method.thread_init' class='fnname'>thread_init</a>(&amp;mut self)</code></h3><div class='docblock'><p>Called just once after the creation of the thread in which all other
callbacks will be handled.</p>

<p>It does not need to be suitable for real-time execution.</p>
</div><h3 id='method.shutdown' class='method stab '><code>fn <a href='#method.shutdown' class='fnname'>shutdown</a>(&amp;mut self, _status: <a class='struct' href='../jack/struct.ClientStatus.html' title='jack::ClientStatus'>ClientStatus</a>, _reason: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>)</code></h3><div class='docblock'><p>Called when the Jack server shuts down the client thread. The function
must be written as if it were an asynchronous POSIX signal handler ---
use only async-safe functions, and remember that it is executed from
another thread. A typical funcion might set a flag or write to a pipe so
that the rest of the application knows that the Jack client thread has
shut down.</p>
</div><h3 id='method.process' class='method stab '><code>fn <a href='#method.process' class='fnname'>process</a>(&amp;mut self, _n_frames: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever there is work to be done.</p>

<p>It needs to be suitable for real-time execution. That means that it
cannot call functions that might block for a long time. This includes
all I/O functions (disk, TTY, network), malloc, free, printf,
pthread_mutex_lock, sleep, wait, poll, select, pthread_join,
pthread_cond_wait, etc, etc.</p>

<p>Should return <code>0</code> on success, and non-zero on error.</p>
</div><h3 id='method.freewheel' class='method stab '><code>fn <a href='#method.freewheel' class='fnname'>freewheel</a>(&amp;mut self, _is_freewheel_enabled: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h3><div class='docblock'><p>Called whenever &quot;freewheel&quot; mode is entered or leaving.</p>
</div><h3 id='method.buffer_size' class='method stab '><code>fn <a href='#method.buffer_size' class='fnname'>buffer_size</a>(&amp;mut self, _size: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever the size of the buffer that will be passed to <code>process</code>
is about to change.</p>
</div><h3 id='method.sample_rate' class='method stab '><code>fn <a href='#method.sample_rate' class='fnname'>sample_rate</a>(&amp;mut self, _srate: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever the system sample rate changes.</p>
</div><h3 id='method.client_registration' class='method stab '><code>fn <a href='#method.client_registration' class='fnname'>client_registration</a>(&amp;mut self, _name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, _is_registered: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h3><div class='docblock'><p>Called whenever a client is registered or unregistered</p>
</div><h3 id='method.port_registration' class='method stab '><code>fn <a href='#method.port_registration' class='fnname'>port_registration</a>(&amp;mut self, _port_id: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _is_registered: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h3><div class='docblock'><p>Called whenever a port is registered or unregistered</p>
</div><h3 id='method.port_rename' class='method stab '><code>fn <a href='#method.port_rename' class='fnname'>port_rename</a>(&amp;mut self, _port_id: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _old_name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>, _new_name: &amp;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.str.html'>str</a>) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever a port is renamed.</p>

<h1 id='todo-1' class='section-header'><a href='#todo-1'>TODO</a></h1>
<ul>
<li>Possibly fix description, Jack API docs have same description
for this as port registration.</li>
</ul>
</div><h3 id='method.ports_connected' class='method stab '><code>fn <a href='#method.ports_connected' class='fnname'>ports_connected</a>(&amp;mut self, _port_id_a: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _port_id_b: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.u32.html'>u32</a>, _are_connected: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h3><div class='docblock'><p>Called whenever ports are connected/disconnected to/from each other.</p>
</div><h3 id='method.graph_reorder' class='method stab '><code>fn <a href='#method.graph_reorder' class='fnname'>graph_reorder</a>(&amp;mut self) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever the processing graph is reordered.</p>
</div><h3 id='method.xrun' class='method stab '><code>fn <a href='#method.xrun' class='fnname'>xrun</a>(&amp;mut self) -&gt; <a class='enum' href='../jack/enum.JackControl.html' title='jack::JackControl'>JackControl</a></code></h3><div class='docblock'><p>Called whenever an xrun occurs.</p>

<p>An xrun is a buffer under or over run, which means some data has been
missed.</p>
</div><h3 id='method.latency' class='method stab '><code>fn <a href='#method.latency' class='fnname'>latency</a>(&amp;mut self, _mode: <a class='enum' href='../jack/enum.LatencyType.html' title='jack::LatencyType'>LatencyType</a>)</code></h3><div class='docblock'><p>Called whenever it is necessary to recompute the latencies for some or
all Jack ports.</p>

<p>It will be called twice each time it is needed, once being passed
<code>CaptureLatency</code> and once with `PlayBackLatency. See managing and
determining latency for the definition of each type of latency and
related functions. TODO: clear up the &quot;see managing and ...&quot; in the
docstring.</p>

<p>IMPORTANT: Most Jack clients do NOT need to register a latency callback.</p>

<p>Clients that meed any of the following conditions do NOT need to
register a latency callback:</p>

<ul>
<li><p>have only input ports</p></li>
<li><p>have only output ports</p></li>
<li><p>their output is totally unrelated to their input</p></li>
<li><p>their output is not delayed relative to their input (i.e. data that
arrives in a <code>process</code> is processed and output again in the same
callback)</p></li>
</ul>

<p>Clients NOT registering a latency callback MUST also satisfy this condition</p>

<ul>
<li>have no multiple distinct internal signal pathways</li>
</ul>

<p>This means that if your client has more than 1 input and output port,
and considers them always &quot;correlated&quot; (e.g. as a stereo pair), then
there is only 1 (e.g. stereo) signal pathway through the client. This
would be true, for example, of a stereo FX rack client that has a
left/right input pair and a left/right output pair.</p>

<p>However, this is somewhat a matter of perspective. The same FX rack
client could be connected so that its two input ports were connected to
entirely separate sources. Under these conditions, the fact that the
client does not register a latency callback MAY result in port latency
values being incorrect.</p>

<p>Clients that do not meet any of those conditions SHOULD register a
latency callback.</p>

<p>See the documentation for <code>jack_port_set_latency_range()</code> on how the
callback should operate. Remember that the mode argument given to the
latency callback will need to be passed into
jack_port_set_latency_range()</p>
</div></div>
        <h2 id='implementors'>Implementors</h2>
        <ul class='item-list' id='implementors-list'>
    </ul><script type="text/javascript" async
                         src="../implementors/jack/trait.JackHandler.js">
                 </script></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "jack";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>